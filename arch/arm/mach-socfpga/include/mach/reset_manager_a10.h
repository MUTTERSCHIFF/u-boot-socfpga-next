/*
 * Copyright (C) 2014 Altera Corporation <www.altera.com>
 *
 * SPDX-License-Identifier:	GPL-2.0+
 */

#ifndef	_SOCFPGA_RESET_MANAGER_A10_H_
#define	_SOCFPGA_RESET_MANAGER_A10_H_

#ifndef __ASSEMBLY__
void reset_deassert_noc_ddr_scheduler(void);
void watchdog_disable(void);
int is_wdt_in_reset(void);
void emac_manage_reset(ulong emacbase, uint state);
void reset_assert_all_bridges(void);
void reset_deassert_bridges_handoff(void);
void reset_assert_all_peripherals_except_l4wd0_l4timer0(void);
void reset_assert_uart(void);
void reset_deassert_uart(void);
void reset_deassert_dedicated_peripherals(void);
void reset_deassert_shared_connected_peripherals(void);
void reset_deassert_fpga_connected_peripherals(void);
void reset_deassert_osc1wd0(void);
#endif /* __ASSEMBLY__ */

struct socfpga_reset_manager {
	u32 stat;
	u32 ramstat;
	u32 miscstat;
	u32 ctrl;
	u32 hdsken;
	u32 hdskreq;
	u32 hdskack;
	u32 counts;
	u32 mpumodrst;
	u32 per0modrst;
	u32 per1modrst;
	u32 brgmodrst;
	u32 sysmodrst;
	u32 coldmodrst;
	u32 nrstmodrst;
	u32 dbgmodrst;
	u32 mpuwarmmask;
	u32 per0warmmask;
	u32 per1warmmask;
	u32 brgwarmmask;
	u32 syswarmmask;
	u32 nrstwarmmask;
	u32 l3warmmask;
	u32 tststa;
	u32 tstscratch;
	u32 hdsktimeout;
	u32 hmcintr;
	u32 hmcintren;
	u32 hmcintrens;
	u32 hmcintrenr;
	u32 hmcgpout;
	u32 hmcgpin;
};

#define ALT_RSTMGR_CTL_SWWARMRSTREQ_SET_MSK	0x00000002
#define ALT_RSTMGR_PER0MODRST_EMAC0_SET_MSK	0x00000001
#define ALT_RSTMGR_PER0MODRST_EMAC1_SET_MSK	0x00000002
#define ALT_RSTMGR_PER0MODRST_EMAC2_SET_MSK	0x00000004
#define ALT_RSTMGR_PER0MODRST_USB0_SET_MSK	0x00000008
#define ALT_RSTMGR_PER0MODRST_USB1_SET_MSK	0x00000010
#define ALT_RSTMGR_PER0MODRST_NAND_SET_MSK	0x00000020
#define ALT_RSTMGR_PER0MODRST_QSPI_SET_MSK	0x00000040
#define ALT_RSTMGR_PER0MODRST_SDMMC_SET_MSK	0x00000080
#define ALT_RSTMGR_PER0MODRST_EMACECC0_SET_MSK	0x00000100
#define ALT_RSTMGR_PER0MODRST_EMACECC1_SET_MSK	0x00000200
#define ALT_RSTMGR_PER0MODRST_EMACECC2_SET_MSK	0x00000400
#define ALT_RSTMGR_PER0MODRST_USBECC0_SET_MSK	0x00000800
#define ALT_RSTMGR_PER0MODRST_USBECC1_SET_MSK	0x00001000
#define ALT_RSTMGR_PER0MODRST_NANDECC_SET_MSK	0x00002000
#define ALT_RSTMGR_PER0MODRST_QSPIECC_SET_MSK	0x00004000
#define ALT_RSTMGR_PER0MODRST_SDMMCECC_SET_MSK	0x00008000
#define ALT_RSTMGR_PER0MODRST_DMA_SET_MSK	0x00010000
#define ALT_RSTMGR_PER0MODRST_SPIM0_SET_MSK	0x00020000
#define ALT_RSTMGR_PER0MODRST_SPIM1_SET_MSK	0x00040000
#define ALT_RSTMGR_PER0MODRST_SPIS0_SET_MSK	0x00080000
#define ALT_RSTMGR_PER0MODRST_SPIS1_SET_MSK	0x00100000
#define ALT_RSTMGR_PER0MODRST_DMAECC_SET_MSK	0x00200000
#define ALT_RSTMGR_PER0MODRST_EMACPTP_SET_MSK	0x00400000
#define ALT_RSTMGR_PER0MODRST_DMAIF0_SET_MSK	0x01000000
#define ALT_RSTMGR_PER0MODRST_DMAIF1_SET_MSK	0x02000000
#define ALT_RSTMGR_PER0MODRST_DMAIF2_SET_MSK	0x04000000
#define ALT_RSTMGR_PER0MODRST_DMAIF3_SET_MSK	0x08000000
#define ALT_RSTMGR_PER0MODRST_DMAIF4_SET_MSK	0x10000000
#define ALT_RSTMGR_PER0MODRST_DMAIF5_SET_MSK	0x20000000
#define ALT_RSTMGR_PER0MODRST_DMAIF6_SET_MSK	0x40000000
#define ALT_RSTMGR_PER0MODRST_DMAIF7_SET_MSK	0x80000000

#define ALT_RSTMGR_PER1MODRST_WD0_SET_MSK	0x00000001
#define ALT_RSTMGR_PER1MODRST_WD1_SET_MSK	0x00000002
#define ALT_RSTMGR_PER1MODRST_L4SYSTMR0_SET_MSK	0x00000004
#define ALT_RSTMGR_PER1MODRST_L4SYSTMR1_SET_MSK	0x00000008
#define ALT_RSTMGR_PER1MODRST_SPTMR0_SET_MSK	0x00000010
#define ALT_RSTMGR_PER1MODRST_SPTMR1_SET_MSK	0x00000020
#define ALT_RSTMGR_PER1MODRST_I2C0_SET_MSK	0x00000100
#define ALT_RSTMGR_PER1MODRST_I2C1_SET_MSK	0x00000200
#define ALT_RSTMGR_PER1MODRST_I2C2_SET_MSK	0x00000400
#define ALT_RSTMGR_PER1MODRST_I2C3_SET_MSK	0x00000800
#define ALT_RSTMGR_PER1MODRST_I2C4_SET_MSK	0x00001000
#define ALT_RSTMGR_PER1MODRST_UART0_SET_MSK	0x00010000
#define ALT_RSTMGR_PER1MODRST_UART1_SET_MSK	0x00020000
#define ALT_RSTMGR_PER1MODRST_GPIO0_SET_MSK	0x01000000
#define ALT_RSTMGR_PER1MODRST_GPIO1_SET_MSK	0x02000000
#define ALT_RSTMGR_PER1MODRST_GPIO2_SET_MSK	0x04000000

#define ALT_RSTMGR_BRGMODRST_H2F_SET_MSK	0x00000001
#define ALT_RSTMGR_BRGMODRST_LWH2F_SET_MSK	0x00000002
#define ALT_RSTMGR_BRGMODRST_F2H_SET_MSK	0x00000004
#define ALT_RSTMGR_BRGMODRST_F2SSDRAM0_SET_MSK	0x00000008
#define ALT_RSTMGR_BRGMODRST_F2SSDRAM1_SET_MSK	0x00000010
#define ALT_RSTMGR_BRGMODRST_F2SSDRAM2_SET_MSK	0x00000020
#define ALT_RSTMGR_BRGMODRST_DDRSCH_SET_MSK	0x00000040

#define ALT_RSTMGR_HDSKEN_SDRSELFREFEN_SET_MSK	0x00000001
#define ALT_RSTMGR_HDSKEN_FPGAMGRHSEN_SET_MSK	0x00000002
#define ALT_RSTMGR_HDSKEN_FPGAHSEN_SET_MSK	0x00000004
#define ALT_RSTMGR_HDSKEN_ETRSTALLEN_SET_MSK	0x00000008

#endif /* _SOCFPGA_RESET_MANAGER_A10_H_ */
